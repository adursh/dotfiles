##############################
### WINDOW RULES (v0.53+)  ###
##############################

# NEW SYNTAX for Hyprland 0.53+
# Old windowrulev2 syntax is replaced with new windowrule blocks
# See: https://wiki.hypr.land/Configuring/Window-Rules/

# Ignore maximize requests from apps
windowrule {
    name = suppress-maximize
    suppress_event[maximize] = on
    match:class = .*
}

# Fix dragging issues with XWayland
windowrule {
    name = xwayland-fix
    no_focus = on
    match:class = ^$
    match:title = ^$
    match:xwayland = 1
    match:float = 1
    match:fullscreen = 0
    match:pin = 0
}

# Floating window size and position
# windowrule {
#     name = float-size
#     size = (monitor_w*0.95) (monitor_h*0.95)
#     match:float = 1
# }

windowrule {
    name = float-center
    center = 1
    match:float = 1
}

# Force apps to specific workspaces
windowrule {
    name = kitty-workspace
    workspace = 2
    match:class = kitty
}

windowrule {
    name = code-workspace
    workspace = 3
    match:class = code
}

# Spotify special workspace configuration
windowrule {
    name = spotify-workspace
    workspace = 4
    match:class = [Ss]potify
}

windowrule {
    name = mpv-workspace
    workspace = 4
    match:class = mpv
}

windowrule {
    name = discord-workspace
    workspace = 5
    match:class = discord
}

windowrule {
    name = vm-workspace
    workspace = 6
    match:class = virt-manager
}

windowrule {
    name = librewolf-workspace
    workspace = 8
    match:class = librewolf
}

windowrule {
    name = mullvad-workspace
    workspace = 8
    match:class = Mullvad Browser
}

windowrule {
    name = chrome-workspace
    workspace = 9
    match:class = google-chrome
}

windowrule {
    name = tor-workspace
    workspace = 10
    match:class = Tor Browser
}

# Additional useful window rules

# Keep pinentry focused
windowrule {
    name = pinentry-focus
    stay_focused = on
    match:class = ^(pinentry-)(.*)
}

# Example opacity rules (uncomment if needed)
windowrule {
    name = kitty-opacity
    opacity = 0.9 0.9
    match:class = kitty
}

# Example floating rules (uncomment if needed)
windowrule {
    name = float-pavucontrol
    float = true
    match:class = pavucontrol
}
